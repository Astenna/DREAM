@startuml Use case
left to right direction
skinparam packageStyle rectangle
skinparam actorStyle awesome

'Primary - should be on the left side
actor :Unregistered user: as UnregUser

package RegisteredUser {
    actor :Policy maker: as PolMaker
    actor :Farmer:
    actor :Agronomist:
}

'Secondary - should be on the right side
package ExternalSystem {
    actor :WeatherForecastSystem:
    actor :WaterIrrigationSystem:
    actor :SensorSystem:
}

'visualisations - less details or additional phenomenas? as in lower diagram
'there are MANY missing phenomenas, that can be deducted from UC
'about SP: which is better?? - maybe a question to tamburri
'   "The system visualizes data ... for argonomist"
'   "The system visualizes data ..."
'   "Agronomist visualizes data"
rectangle DREAM {
    '''''''''''Common'''''''''''
    UnregUser -- (Create account)
    PolMaker -- (Log in)
    Agronomist -- (Log in)
    (Create account) ..> (Insert role specific data) : <<include>>

    '''''''''''Farmer'''''''''''
    Farmer -- (Log in)
    Farmer -- (Visualize relevant data)
    'should providers be included? maybe a question to Tamburri
    (Visualize relevant data) ..> (Visualize farm data) : <<include>>
    (Visualize farm data) ..> (Provide information about weather forecasts) : <<include>>
    (Visualize farm data) ..> (Provide information about soil humidity) : <<include>>
    (Visualize farm data) ..> (Provide information about water usage) : <<include>>
    (Visualize relevant data) ..> (Display personal suggestions) : <<include>>
    (Provide information about weather forecasts) -- WeatherForecastSystem
    (Provide information about soil humidity) -- SensorSystem
    (Provide information about water usage) -- WaterIrrigationSystem
    Farmer -- (Update production data)
    Farmer -- (Request help)
    Farmer -- (View forum)
    (View forum) <.. (Create forum thread) : <<extend>>
    (View forum) <.. (View forum thread) : <<extend>>
    (View forum thread) <.. (Add forum comment) : <<extend>>
    Farmer -- (View requests)

    '''''''''''Agronomist'''''''''''
    Agronomist -- (View farmer's summary)
    Agronomist -- (View requests)
    (View requests) <.. (Answer to request) : <<extend>>
    (View farmer's summary) ..> (Visualize farm data) : <<include>>
    Agronomist -- (View daily plan)
    (View daily plan) <.. (Update daily plan) : <<extend>>
    (View daily plan) <.. (Set daily plan execution state) : <<extend>>
    (View daily plan) <.. (Save comment regarding farm visit) : <<extend>>

    '''''''''''Policy maker'''''''''''
    PolMaker -- (Assess farmer's performance)
    (Assess farmer's performance) ..> (View farmer's summary) : <<include>>
}

@enduml
