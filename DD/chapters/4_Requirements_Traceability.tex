\chapter{Requirements Traceability} \label{ch:requirements_traceability}

This chapter presents all the requirements defined in RASD together with their mappings to the system's components defined in the chapter \ref{ch:architectural_design}. Additionally, a traceability matrix between the requirements and the previously defined mockups is provided.

\section{Functional Requirements}

\begin{longtable}{@{}p{0.06\linewidth} p{0.88\linewidth}}
	\toprule
	\textbf{ID}   & \textbf{Requirement}\\
	\midrule
	
	%Authentication
	\textbf{R1.} & The system must uniquely identify each user by his e-mail. \\
	\textbf{R2.} & The system must allow an unregistered user to create an account with a chosen role. \\
	\textbf{R3.} & The system must ensure that an agronomist chooses the area of responsibility during the registration process. \\
	\textbf{R4.} & The system must ensure that a farmer inserts his farm data during the registration process.\\
	\textbf{R5.} & The system must ensure that two casual farm visits are scheduled for each year of the farm's existence.\\
	\textbf{R6.} & The system must allow a registered user to log in to the application. \\
	\textbf{R7.} & The system must allow a registered user to reset his password. \\
	\textbf{R8.} & The system must allow a logged-in user to sign out of the application. \\
	\textbf{R9.} & The system must allow a registered user to delete his account. \\
	
	%Policy maker
	\textbf{R10.} & The system must allow a policy maker to assign a note to a farmer.\\
	\textbf{R11.} & The system must ensure that every farmer initially has a neutral note.\\
	\textbf{R12.} & The system must have a list of predefined farmer's problem types.\\
    \textbf{R13.} & The system must allow a policy maker to specify a problem type when assigning a negative note.\\
    \textbf{R14.} & The system must ensure that a farm is visited more often in the event of any problems.\\
    \textbf{R15.} & The system must have a specified number of additional visits caused by each predefined problem type.\\
    \textbf{R16.} & The system must ensure that only the most recently specified problem type is taken into account when determining the number of visits.\\
	\textbf{R17.} & The system must ensure that an automatic help request followed by additional farm visits are created, if a farmer receives a negative note.\\
	\textbf{R18.} & The system must ensure that all the additional farm visits created due to obtaining a negative note are deleted after a farmer's negative note is updated with a positive or a neutral one.\\
	\textbf{R19.} & The system must allow a policy maker to see a list of all farmers in Telangana.\\
	\textbf{R20.} & The system must allow a policy maker to see a list of all farmers with a specific note.\\
	\textbf{R21.} & The system must allow a policy maker to see a list of all farmers in a given mandal.\\
	\textbf{R22.} & The system must allow a policy maker to find a farmer's summary by his name and surname.\\
	\textbf{R23.} & The system must allow a policy maker to see a farmer's summary.\\
	
	%Farmer
	\textbf{R24.} & The system must allow a farmer to see his own farmer's summary.\\
	\textbf{R25.} & The system must allow a farmer to see personalized suggestions.\\
	\textbf{R26.} & The system must allow a farmer to manage his monthly production data.\\
	\textbf{R27.} & The system must allow a farmer to see a list of help requests created by him.\\
	\textbf{R28.} & The system must allow a farmer to find a help request created by him by the topic.\\
	\textbf{R29.} & The system must allow a farmer to see a specific help request created by him.\\
	\textbf{R30.} & The system must allow a farmer to delete a specific help request created by him.\\
	\textbf{R31.} & The system must allow a farmer to create a new help request.\\
	\textbf{R32.} & The system must allow a farmer with a positive note to see a list of all help requests in his mandal.\\
	\textbf{R33.} & The system must allow a farmer with a positive note to find a help request in his mandal by the topic.\\
	\textbf{R34.} & The system must allow a farmer with a positive note to see a specific help request in his mandal.\\
	\textbf{R35.} & The system must allow a farmer with a positive note to respond to a specific help request in his mandal.\\
	\textbf{R36.} & The system must allow a farmer with a positive note to delete a help response, only if it was created by him.\\
	\textbf{R37.} & The farmer is able to see farmer's summary of a farmer with a negative note whose help request he received. \\
	\textbf{R38.} & The system must allow a farmer to see a list of all forum threads in Telangana.\\
	\textbf{R39.} & The system must allow a farmer to find a forum thread by the topic.\\
	\textbf{R40.} & The system must allow a farmer to see a specific forum thread with its comments.\\
	\textbf{R41.} & The system must allow a farmer to create a comment in a forum thread.\\
	\textbf{R42.} & The system must allow a farmer to delete a comment in a forum thread, only if it was created by him.\\
	\textbf{R43.} & The system must allow a farmer to create a forum thread.\\
	
	%Agronomist
	\textbf{R44.} & The system must allow an agronomist to manage his area of responsibility.\\
	\textbf{R45.} & The system must allow an agronomist to see the list of suggestions for mandals in his area of responsibility.\\
	\textbf{R46.} & The system must allow an agronomist to manage the list of suggestions for mandals in his area of responsibility.\\
	\textbf{R47.} & The system must allow an agronomist to see a list of all farmers in his area of responsibility.\\
	\textbf{R48.} & The system must allow an agronomist to see a list of all farmers with a specific note in his area of responsibility.\\
	\textbf{R49.} & The system must allow an agronomist to see a list of all farmers in a given mandal in his area of responsibility.\\
	\textbf{R50.} & The system must allow an agronomist to find a farmer's summary in his area of responsibility by his name and surname.\\
	\textbf{R51.} & The system must allow an agronomist to see a farmer's summary in his area of responsibility.\\
	\textbf{R52.} & The system must allow an agronomist to see a list of all help requests in his area of responsibility.\\
	\textbf{R53.} & The system must allow an agronomist to find a help request in his area of responsibility by the topic.\\
	\textbf{R54.} & The system must allow an agronomist to see a specific help request in his area of responsibility.\\
	\textbf{R55.} & The system must allow an agronomist to respond to a specific help request in his area of responsibility.\\
	\textbf{R56.} & The system must allow an agronomist to delete a help response, only if it was created by him.\\
	\textbf{R57.} & The system must allow an agronomist to see his daily plans.\\
	\textbf{R58.} & The system must allow an agronomist to submit a daily plan's execution state, by rejecting or confirming each visit, on the same date or after the daily plan's date has passed. \\
	\textbf{R59.} & The system must allow an agronomist to provide a comment for a visit he is confirming.\\
	\textbf{R60.} & The system must ensure that after an agronomist submits his daily plan, for all the causal visits marked as confirmed, new ones are created in approximately half of a year.\\
	\textbf{R61.} & The system must allow an agronomist to delete a visit before its date.\\
	\textbf{R62.} & The system must ensure that a deleted visit is marked as rejected.\\
	\textbf{R63.} & The system must ensure that in case of rejecting a casual visit, a new one is created in maximally 5 days.\\
	\textbf{R64.} & The system must allow replanning any different visit than a casual one without any constraints.\\
	
% 		External systems
	\textbf{R65.} & The system must read and update weather forecasts every day. \\
	\textbf{R66.} & The system must read and store data from humidity sensors every day. \\
	\textbf{R67.} & The system must read and store data from water irrigation systems every day. \\
	\textbf{R68.} & The system must ensure that a farmer who creates a help request cannot be its recipient.\\
		
	\bottomrule
\end{longtable}

\section{Mapping between system's components and functional requirements}

\begin{longtable}{p{0.06\linewidth} p{0.88\linewidth}} 
    \toprule
    \textbf{C1} & Component name.\\
    \midrule
    % Goals
    \textbf{G1.} & Goal name.\\
    \midrule		
    % Requirements
    \textbf{R1.} & Requirement name.\\	
    \bottomrule
    \caption{G1 mapping on assumptions and requirements.}
\end{longtable}

\todo{To define}

\section{Mapping between functional requirements and mockups}

{
    \newcolumntype{C}[1]{>{\centering\arraybackslash}m{#1}}
    \newcommand*{\cb}{\CheckmarkBold}
    \footnotesize

    \begin{longtable}{|*{23}{@{}C{7mm}@{}|}}
        \toprule
        & \textbf{M1} & \textbf{M2} & \textbf{M3} & \textbf{M4} & \textbf{M5} & \textbf{M6} & \textbf{M7} & \textbf{M8} & \textbf{M9} & \textbf{M10} & \textbf{M11} & \textbf{M12} & \textbf{M13} & \textbf{M14} & \textbf{M15} & \textbf{M16} & \textbf{M17} & \textbf{M18} & \textbf{M19} & \textbf{M20} & \textbf{M21} & \textbf{M22} \\
        \midrule
                  %  & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 &10 &11 &12 &13 &14 &15 &16 &17 &18 &19 &20 &21 &22\\
        \textbf{R1}  &\cb&\cb&\cb&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R2}  &\cb&\cb&\cb&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R3}  &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R4}  &   &\cb&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R5}  &   &\cb&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R6}  &NAN&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R7}  &NAN&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R8}  &   &   &   &\cb&\cb&\cb&\cb&\cb&\cb&\cb&\cb&\cb&\cb&\cb&\cb&\cb&\cb&\cb&\cb&\cb&\cb& \\
        \textbf{R9}  &   &   &   &\cb&   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &\cb&   & \\
        \textbf{R10} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb&\cb\\
        \textbf{R11} &   &\cb&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\\
        \textbf{R12} &NAN&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R13} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb\\
        \textbf{R14} &NAN&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R15} &NAN&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R16} &NAN&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R17} &NAN&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R18} &NAN&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R19} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   & \\
        \textbf{R20} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &\cb& \\
        \textbf{R21} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   & \\
        \textbf{R22} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   & \\
        \textbf{R23} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb\\
        \textbf{R24} &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R25} &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R26} &   &   &   &   &\cb&\cb&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R27} &   &   &   &   &   &\cb&\cb&   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R28} &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R29} &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R30} &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R31} &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R32} &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R33} &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R34} &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R35} &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R36} &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R37} &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R38} &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R39} &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R40} &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   & \\
                  %  & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 &10 &11 &12 &13 &14 &15 &16 &17 &18 &19 &20 &21 &22\\
        \textbf{R41} &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   & \\
        \textbf{R42} &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   & \\
        \textbf{R43} &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R44} &   &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   & \\
        \textbf{R45} &NAN&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R46} &NAN&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R47} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   & \\
        \textbf{R48} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   & \\
        \textbf{R49} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   & \\
        \textbf{R50} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   & \\
        \textbf{R51} &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R52} &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &\cb&   &   &   & \\
        \textbf{R53} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   & \\
        \textbf{R54} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   & \\
        \textbf{R55} &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &\cb&   &   &   & \\
        \textbf{R56} &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R57} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   &   & \\
        \textbf{R58} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb&\cb&   &   &   &   & \\
        \textbf{R59} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   & \\
        \textbf{R60} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   & \\
        \textbf{R61} &NAN&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R62} &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &\cb&   &   &   &   & \\
        \textbf{R63} &NAN&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R64} &NAN&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R65} &   &   &   &\cb&\cb&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R66} &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R67} &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \textbf{R68} &   &   &   &   &   &   &   &\cb&   &   &   &   &   &   &   &   &   &   &   &   &   & \\
        \bottomrule
        \caption{Mockups mapping on functional requirements.}
    \end{longtable}
}

\todo{Fix the NaNs}

% - R6 - brak ekranu logowania,
% - R7 - brak ekranu resetowania hasła,
% - R12 - nie wiem co tu podpiąć,
% - R13 - brak możliwości wyboru typu problemu przy dawaniu oceny,
% - R14 - nie wiem co tu podpiąć,
% - R15 - nie wiem co tu podpiąć,
% - R16 - nie wiem co tu podpiąć,
% - R17 - nie wiem co tu podpiąć,
% - R18 - nie wiem co tu podpiąć,
% - R31 - brak widoku tworzenia help requesta (widać tylko button),
% - R43 - brak widoku tworzenia wątku na forum (widać tylko button),
% - R45 - brak, można by to było dodać do dashboardu agronomisty,
% - R46 - brak,
% - R53 - brak,
% - R60 - nie wiem co tu podpiąć,
% - R61 - brak,
% - R63 - brak + nie wiem co tu podpiąć,
% - R64 - brak,
% - R65, R66, R67 - nie ma jak tego pokazać na mocku, dałem farmer's summary,
% - R68 - to samo co R31
